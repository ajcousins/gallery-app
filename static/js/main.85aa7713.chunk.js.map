{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/Signup.js","components/NavBar.js","hooks/useStorage.js","components/ProgressBar.js","components/UploadForm.js","svg/radio.svg","hooks/useFirestore.js","svg/radio-filled.svg","svg/bin.js","utils/deleteImageHandler.js","actions/index.js","svg/expand.svg","components/ImageOverlay.js","components/ImageGrid.js","components/NewCollection.js","svg/pencil2.svg","utils/getFrontUrl.js","components/CollapsedTile.js","utils/numberToGBP.js","components/SellPanel.js","components/ExpandedTile.js","components/SellDialogue.js","components/CollectionTile.js","components/Dashboard.js","components/Login.js","svg/exit-white.svg","components/PrivateRoute.js","components/NavBarFront.js","svg/left-white.svg","svg/right-white.svg","svg/circle-white.js","components/BottomPanel.js","components/ImageExpand.js","components/CollectionTileFront.js","components/Gallery.js","components/App.js","reducers/descriptionPanel.js","reducers/collectionsModel.js","reducers/newCollection.js","reducers/index.js","index.js"],"names":["auth","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","Provider","Signup","emailRef","useRef","passwordRef","confirmRef","error","setError","loading","setLoading","history","useHistory","e","a","preventDefault","console","log","current","push","className","onSubmit","for","type","id","ref","required","style","marginBottom","disabled","marginTop","to","NavBar","props","onClick","handleLogout","useStorage","file","collection","description","progress","setProgress","url","setUrl","bytes","refString","Date","toLocaleString","replace","name","storageRef","collectionRef","collectionArray","doc","get","then","exists","existsInCollection","data","collections","JSON","stringify","title","front","catch","err","put","on","snap","percentage","bytesTransferred","totalBytes","getDownloadURL","createdAt","add","set","merge","collectionArr","some","item","parse","ProgressBar","setFile","width","Math","round","UploadForm","types","inputStyle","class","onChange","selected","target","files","size","includes","margin","_g","_g2","_rect","useFirestore","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","_excluded","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgRadio","_ref","svgRef","titleId","xmlns","xmlnsXlink","x","y","height","viewBox","enableBackground","xmlSpace","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","cx","cy","r","_circle","_circle2","ForwardRef","SvgRadioFilled","Bin","color","version","x1","y1","x2","y2","points","deleteImageHandler","collectionTitle","delete","_polyline","setNewCollection","payload","ImageOverlay","collectionsModel","useSelector","state","isFront","setIsFront","dispatch","useDispatch","markFront","ImageGrid","map","noOverlay","src","alt","NewCollection","titleRef","descriptionRef","collectionName","setCollectionName","descriptionText","setDescriptionText","page","setPage","startNewCollection","cancelNewCollection","confirmTitle","handleDescription","handleDone","MultiPageForm","rows","cols","SvgExpand","getFrontUrl","frontRef","index","findIndex","image","CollapsedTile","newCollection","collectionViewHandler","SvgPencil2","d","numberToGBP","num","Intl","NumberFormat","currency","format","SellPanel","sellData","handleSell","handleDiscontinue","price","quantity","ExpandedTile","descriptionVal","descriptionEditMode","setDescriptionVal","setDescriptionEditMode","setExpanded","thisIndex","querySnapshot","wholeArray","thisTileIndex","splice","marginLeft","marginRight","collectionsModelCopy","collectionsStringified","update","reverse","SellDialogue","confirmSellingData","setSellData","onChangeHandler","sellDataCopy","display","alignItems","step","min","form","CollectionTile","expanded","isSellDialogueActive","setIsSellDialogueActive","Dashboard","setCollections","pushState","unsubscribe","Login","_line","_line2","PrivateRoute","Component","component","rest","render","NavBarFront","SvgExitWhite","SvgLeftWhite","SvgRightWhite","Circle","BottomPanel","Array","_","ImageExpand","expandHandler","imgArray","setImgArray","loaded","setLoaded","setCurrent","docsCopy","sort","b","CollectionTileFront","isImageExpanded","setIsImageExpanded","isLoaded","setIsLoaded","onLoad","Gallery","dataRegister","setDataRegister","dataArr","App","exact","path","descriptionPanel","action","collectionModelReducer","stateCopy","newCollectionReducer","allReducers","combineReducers","descriptionPanelReducer","collectionsModelReducer","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85aa7713.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\nimport \"firebase/firestore\";\n\nconst app = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nconst auth = app.auth();\n// export default app;\n\nconst projectStorage = firebase.storage();\nconst projectFirestore = firebase.firestore();\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\n\nexport { app, auth, projectStorage, projectFirestore, timestamp };\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { auth } from \"../firebase\";\n\nconst AuthContext = React.createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(\"loading\");\n  // const [signInCheck, setSignInCheck] = useState(false);\n\n  function signup(email, password) {\n    // returns promise\n    return auth.createUserWithEmailAndPassword(email, password);\n  }\n\n  function login(email, password) {\n    return auth.signInWithEmailAndPassword(email, password);\n  }\n\n  function logout() {\n    return auth.signOut();\n  }\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n    });\n\n    // setSignInCheck(true);\n    return unsubscribe;\n  }, []);\n\n  const value = {\n    currentUser,\n    // signInCheck,\n    signup,\n    login,\n    logout,\n  };\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n","import React, { useRef, useState } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nexport default function Signup() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const confirmRef = useRef();\n  // const formRef = useRef();\n  const { signup } = useAuth();\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    // console.log(formRef);\n    console.log(\"passwordRef\", passwordRef);\n    console.log(\"passwordRef.current\", passwordRef.current);\n    console.log(\"passwordRef.current.value\", passwordRef.current.value);\n\n    if (passwordRef.current.value !== confirmRef.current.value) {\n      return setError(\"Passwords do not match\");\n    }\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      await signup(emailRef.current.value, passwordRef.current.value);\n      history.push(\"/dashboard\");\n    } catch {\n      setError(\"Failed to create an account\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <div>\n      <div className='small-container'>\n        <div className='back-of-house-background' />\n        <h2>Sign Up</h2>\n        <form className='user-form' onSubmit={handleSubmit}>\n          {error && <div className='error-msg'>{error}</div>}\n          <label for='email'>Email</label>\n          <input\n            type='email'\n            id='email'\n            ref={emailRef}\n            required\n            style={{ marginBottom: \"1em\" }}\n          />\n\n          <label for='password'>Password</label>\n          <input\n            type='password'\n            id='password'\n            ref={passwordRef}\n            required\n            style={{ marginBottom: \"1em\" }}\n          />\n\n          <label for='confirm'>Confirm Password</label>\n          <input type='password' id='confirm' ref={confirmRef} required />\n\n          <button\n            className='user-form__btn'\n            type='submit'\n            disabled={loading}\n            style={{ marginTop: \"1em\" }}\n          >\n            Sign Up\n          </button>\n        </form>\n        <div>Already have an account?</div>\n        <Link to='/login'>Log In</Link>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function NavBar(props) {\n  return (\n    <div className='nav-bar'>\n      <h2>Dashboard</h2>\n      {props.error && <div className='error-msg'>{props.error}</div>}\n      <div className='nav-bar__email'>{props.currentUser.email}</div>\n      <div>\n        <button className='nav-bar__logout' onClick={props.handleLogout}>\n          Log Out\n        </button>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { projectStorage, projectFirestore, timestamp } from \"../firebase\";\n\n// Saves image to storage and saves reference of image to firestore.\nconst useStorage = (file, collection, description) => {\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(null);\n  const [url, setUrl] = useState(null);\n\n  useEffect(() => {\n    // references\n    // const storageRef = projectStorage.ref(file.name);\n    const refString = `${new Date()\n      .toLocaleString()\n      .replace(/\\/|:|,|\\s/gi, \"\")}_${file.name}`;\n    const storageRef = projectStorage.ref(refString);\n    const collectionRef = projectFirestore.collection(collection);\n    ////// Could pass collection name as prop into hook for specified collection names?\n\n    // get collection list\n    let collectionArray = [];\n    const register = projectFirestore.collection(\"00_admin\").doc(\"register\");\n    register\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          if (existsInCollection(doc.data().collections, collection)) {\n            collectionArray = [...doc.data().collections];\n          } else {\n            collectionArray = [\n              ...doc.data().collections,\n              JSON.stringify({\n                title: collection,\n                front: refString,\n                description: description,\n              }),\n            ];\n          }\n        } else {\n          collectionArray.push(\n            JSON.stringify({\n              title: collection,\n              front: refString,\n              description: description,\n            })\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(\"Error: \", err);\n      });\n\n    let bytes; // for use later when calculating storage usage\n\n    // upload file\n    storageRef.put(file).on(\n      \"state_changed\",\n      (snap) => {\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n        setProgress(percentage);\n        bytes = snap.totalBytes;\n      },\n      (err) => {\n        setError(err);\n      },\n      async () => {\n        // fires when upload is completed\n        const url = await storageRef.getDownloadURL();\n\n        // adds image to database/ firestore\n        const createdAt = timestamp();\n        collectionRef.add({ refString, url, createdAt, bytes });\n        projectFirestore\n          .collection(\"00_admin\")\n          .doc(\"register\")\n          .set({ collections: collectionArray }, { merge: true });\n        setUrl(url);\n      }\n    );\n  }, [file, collection, description]);\n\n  return { progress, url, error };\n};\n\nexport default useStorage;\n\nconst existsInCollection = (collectionArr, collection) => {\n  return collectionArr.some((item) => JSON.parse(item).title === collection);\n};\n","import React, { useEffect } from \"react\";\nimport useStorage from \"../hooks/useStorage\";\n\nexport default function ProgressBar({\n  file,\n  setFile,\n  collection,\n  description,\n}) {\n  const { url, progress } = useStorage(file, collection, description);\n\n  useEffect(() => {\n    if (url) {\n      setFile(null);\n    }\n  }, [url, setFile]);\n\n  console.log(progress, url);\n  return (\n    <div className='progress-bar' style={{ width: progress + \"%\" }}>\n      {progress && Math.round(progress)}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport ProgressBar from \"./ProgressBar\";\n\nexport default function UploadForm(props) {\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(null);\n\n  const types = [\"image/png\", \"image/jpeg\"];\n\n  function changeHandler(e) {\n    let selected = e.target.files[0];\n    console.log(selected);\n\n    if (selected && selected.size > 5242880) {\n      setError(\"File size must not exceed 5 MB\");\n      return;\n    }\n\n    if (selected && types.includes(selected.type)) {\n      setFile(selected);\n      setError(\"\");\n    } else {\n      setFile(null);\n      setError(\"Please select an image file (png or jpeg)\");\n    }\n  }\n\n  const inputStyle = props.style ? props.style : { marginBottom: \"1em\" };\n\n  return (\n    <form>\n      <label for='file-upload' class='file-upload'>\n        <div className='faux-btn' style={{ marginBottom: \"1em\" }}>\n          Upload Image\n        </div>\n      </label>\n      <input\n        id='file-upload'\n        type='file'\n        onChange={changeHandler}\n        style={inputStyle}\n      />\n      <div>\n        {error && (\n          <div className='error-msg' style={{ margin: \"0.5em 0\" }}>\n            {error}\n          </div>\n        )}\n        {file && <div>{file.name}</div>}\n        {file && (\n          <ProgressBar\n            file={file}\n            setFile={setFile}\n            collection={props.collection}\n            description={props.description}\n          />\n        )}\n      </div>\n    </form>\n  );\n}\n","var _g, _g2, _rect;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRadio(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 100 100\",\n    enableBackground: \"new 0 0 100 100\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1_1_\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    cx: 50,\n    cy: 50,\n    r: 40.064\n  }))), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    width: 100,\n    height: 100\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRadio);\nexport default __webpack_public_path__ + \"static/media/radio.cf632bc0.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"../firebase\";\n\n// Returns images from specified collection.\nexport default function useFirestore(collection) {\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const unsub = projectFirestore\n      .collection(collection)\n      .orderBy(\"createdAt\", \"asc\")\n      .onSnapshot((snap) => {\n        let documents = [];\n        snap.forEach((doc) => {\n          documents.push({ ...doc.data(), id: doc.id });\n        });\n        setDocs(documents);\n      });\n\n    // unsubscribes from function when finished\n    return () => unsub();\n  }, [collection]);\n\n  return { docs };\n}\n","var _g, _circle, _circle2, _rect;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRadioFilled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 100 100\",\n    enableBackground: \"new 0 0 100 100\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1_1_\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    cx: 50,\n    cy: 50,\n    r: 40.064\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    fill: \"#FFFFFF\",\n    cx: 50,\n    cy: 50,\n    r: 30.803\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    width: 100,\n    height: 100\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRadioFilled);\nexport default __webpack_public_path__ + \"static/media/radio-filled.51e88d9a.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\n\r\nconst Bin = ({ color }) => {\r\n  return (\r\n    <svg\r\n      version='1.1'\r\n      id='Layer_1'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      x='0px'\r\n      y='0px'\r\n      width='30px'\r\n      height='30px'\r\n      viewBox='0 0 100 100'\r\n      enable-background='new 0 0 100 100'\r\n    >\r\n      <g id='Layer_1_1_'></g>\r\n      <g id='Layer_2'>\r\n        <g>\r\n          <line\r\n            fill='none'\r\n            stroke={color ? color : \"#FFFFFF\"}\r\n            stroke-width='5'\r\n            stroke-linecap='round'\r\n            stroke-linejoin='round'\r\n            stroke-miterlimit='10'\r\n            x1='13.256'\r\n            y1='19.757'\r\n            x2='87.256'\r\n            y2='19.757'\r\n          />\r\n\r\n          <polyline\r\n            fill='none'\r\n            stroke={color ? color : \"#FFFFFF\"}\r\n            stroke-width='5'\r\n            stroke-linecap='round'\r\n            stroke-linejoin='round'\r\n            stroke-miterlimit='10'\r\n            points='\r\n\t\t\t18.384,19.757 24.745,92.757 74.745,92.757 81.881,19.757 \t\t'\r\n          />\r\n\r\n          <polyline\r\n            fill='none'\r\n            stroke={color ? color : \"#FFFFFF\"}\r\n            stroke-width='5'\r\n            stroke-linecap='round'\r\n            stroke-linejoin='round'\r\n            stroke-miterlimit='10'\r\n            points='\r\n\t\t\t33.911,19.5 38.745,7.757 60.745,7.757 65.577,19.628 \t\t'\r\n          />\r\n\r\n          <line\r\n            fill='none'\r\n            stroke={color ? color : \"#FFFFFF\"}\r\n            stroke-width='5'\r\n            stroke-linecap='round'\r\n            stroke-linejoin='round'\r\n            stroke-miterlimit='10'\r\n            x1='33.911'\r\n            y1='33.743'\r\n            x2='36.745'\r\n            y2='76.743'\r\n          />\r\n\r\n          <line\r\n            fill='none'\r\n            stroke={color ? color : \"#FFFFFF\"}\r\n            stroke-width='5'\r\n            stroke-linecap='round'\r\n            stroke-linejoin='round'\r\n            stroke-miterlimit='10'\r\n            x1='49.756'\r\n            y1='34.257'\r\n            x2='49.756'\r\n            y2='77.257'\r\n          />\r\n\r\n          <line\r\n            fill='none'\r\n            stroke={color ? color : \"#FFFFFF\"}\r\n            stroke-width='5'\r\n            stroke-linecap='round'\r\n            stroke-linejoin='round'\r\n            stroke-miterlimit='10'\r\n            x1='65.577'\r\n            y1='33.743'\r\n            x2='62.745'\r\n            y2='76.743'\r\n          />\r\n        </g>\r\n      </g>\r\n      <rect fill='none' width='100' height='100' />\r\n    </svg>\r\n  );\r\n};\r\nexport default Bin;\r\n","export default function deleteImageHandler({\n  projectStorage,\n  projectFirestore,\n  collectionTitle,\n  refString,\n  id,\n}) {\n  // Delete actual image from file storage\n  const storageRef = projectStorage.ref(refString);\n  storageRef\n    .delete()\n    .then(() => {\n      // Delete from FireStore database\n      projectFirestore\n        .collection(collectionTitle)\n        .doc(id)\n        .delete()\n        .then(() => {\n          console.log(\"Document deleted\");\n        });\n    })\n    .catch((err) => {\n      console.error(\"Error removing document: \", err);\n    });\n}\n","export const setCollectionsModel = (array) => {\n  return {\n    type: \"SET\",\n    payload: array,\n  };\n};\n\nexport const markFront = (collectionTitle, refString) => {\n  console.log(\"Hello from actions\", refString);\n  return {\n    type: \"MARK_FRONT\",\n    payload: { collectionTitle, refString },\n  };\n};\n\nexport const setNewCollection = (title) => {\n  return {\n    type: \"SET_NEW_COLLECTION\",\n    payload: title,\n  };\n};\n","var _g, _rect, _polyline;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgExpand(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 30 30\",\n    enableBackground: \"new 0 0 30 30\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1_1_\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    width: 30,\n    height: 30\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#000000\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    points: \" 3.209,13.167 15,21 26.791,13.167 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExpand);\nexport default __webpack_public_path__ + \"static/media/expand.361c35f6.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport { ReactComponent as Radio } from \"../svg/radio.svg\";\nimport { ReactComponent as RadioFilled } from \"../svg/radio-filled.svg\";\nimport Bin from \"../svg/bin.js\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { projectStorage, projectFirestore } from \"../firebase\";\nimport deleteImageHandler from \"../utils/deleteImageHandler\";\nimport { markFront } from \"../actions\";\n\nexport default function ImageOverlay({ collectionTitle, refString, id }) {\n  const collectionsModel = useSelector((state) => state.collectionsModel);\n  const [isFront, setIsFront] = useState(false);\n  const dispatch = useDispatch();\n\n  const markAsFront = () => {\n    console.log(\"new front image\");\n    dispatch(markFront(collectionTitle, refString));\n  };\n\n  // Is this image the 'front' of the collection?? If so, set state of this component.\n  useEffect(() => {\n    if (collectionsModel.some((collection) => collection.front === refString)) {\n      setIsFront(true);\n    } else setIsFront(false);\n  }, [collectionsModel, refString]);\n\n  return (\n    <div className='image-overlay'>\n      {isFront ? (\n        <>\n          <RadioFilled />\n          <Bin color={\"#ffffff55\"} />\n        </>\n      ) : (\n        <>\n          <Radio onClick={markAsFront} />\n          <div\n            onClick={() =>\n              deleteImageHandler({\n                projectStorage,\n                projectFirestore,\n                collectionTitle,\n                refString,\n                id,\n              })\n            }\n          >\n            <Bin />\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport useFirestore from \"../hooks/useFirestore\";\nimport ImageOverlay from \"./ImageOverlay\";\n// import { useSelector, useDispatch } from \"react-redux\";\n\nexport default function ImageGrid(props) {\n  const { docs } = useFirestore(props.collection);\n\n  return (\n    <div className='img-grid'>\n      {docs &&\n        docs.map((doc) => {\n          return (\n            <div className='img-grid__wrap' key={doc.id}>\n              {props.noOverlay ? null : (\n                <ImageOverlay\n                  refString={doc.refString}\n                  id={doc.id}\n                  collectionTitle={props.collection}\n                />\n              )}\n              <img src={doc.url} alt='uploaded-pic' />\n            </div>\n          );\n        })}\n    </div>\n  );\n}\n","import React, { useState, useRef } from \"react\";\nimport UploadForm from \"./UploadForm\";\nimport ImageGrid from \"./ImageGrid\";\nimport { useDispatch } from \"react-redux\";\nimport { setNewCollection } from \"../actions\";\n\nexport default function NewCollection(props) {\n  const titleRef = useRef();\n  const descriptionRef = useRef();\n  const [collectionName, setCollectionName] = useState(\"\");\n  const [descriptionText, setDescriptionText] = useState(\"\");\n  const [page, setPage] = useState(0);\n  const dispatch = useDispatch();\n\n  const startNewCollection = () => {\n    console.log(\"Start new collection\");\n    setPage(1);\n  };\n\n  const cancelNewCollection = () => {\n    setPage(0);\n  };\n\n  const confirmTitle = (e) => {\n    e.preventDefault();\n    if (!titleRef.current.value) return;\n    setCollectionName(titleRef.current.value);\n    // set same name in global state\n    dispatch(setNewCollection(titleRef.current.value));\n    setPage(2);\n  };\n\n  const handleDescription = (e) => {\n    e.preventDefault();\n    // TO DO: Check and sanitise text input.\n    setDescriptionText(descriptionRef.current.value);\n    setPage(3);\n  };\n\n  const handleDone = () => {\n    dispatch(setNewCollection(null));\n    setPage(0);\n  };\n\n  const MultiPageForm = () => {\n    switch (page) {\n      case 0:\n        return (\n          <button\n            className='new-collection__start-btn'\n            onClick={startNewCollection}\n          >\n            Create New Collection\n          </button>\n        );\n      case 1:\n        return (\n          <div className='new-collection__container'>\n            <form className='new-collection__form-container'>\n              <label for='title'>Collection Title</label>\n              <input\n                type='text'\n                id='title'\n                ref={titleRef}\n                required\n                style={{ marginBottom: \"1em\" }}\n              />\n\n              <div className='new-collection__btn-panel'>\n                <button\n                  className='new-collection__start-btn'\n                  onClick={confirmTitle}\n                  type='submit'\n                >\n                  OK\n                </button>\n                <button\n                  className='new-collection__start-btn'\n                  onClick={cancelNewCollection}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        );\n      case 2:\n        return (\n          <div className='new-collection__container'>\n            <div className='new-collection__form-container'>\n              <label for='description'>Enter a Description</label>\n              <textarea\n                type='text'\n                id='description'\n                ref={descriptionRef}\n                required\n                style={{ marginBottom: \"1em\" }}\n                rows='4'\n                cols='50'\n              />\n              <div className='new-collection__btn-panel'>\n                <button\n                  className='new-collection__start-btn'\n                  onClick={handleDescription}\n                >\n                  Done\n                </button>\n              </div>\n            </div>\n          </div>\n        );\n      case 3:\n        return (\n          <div className='new-collection__container'>\n            <div className='new-collection__form-container'>\n              <h3>{collectionName}</h3>\n              <UploadForm\n                collection={collectionName}\n                description={descriptionText}\n              />\n              <ImageGrid collection={collectionName} noOverlay='true' />\n              <div className='new-collection__btn-panel'>\n                <button\n                  className='new-collection__start-btn'\n                  onClick={handleDone}\n                >\n                  Done\n                </button>\n              </div>\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className='new-collection'>\n      <MultiPageForm />\n    </div>\n  );\n}\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPencil2(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"606px\",\n    height: \"828px\",\n    viewBox: \"44.5 -15.5 606 828\",\n    enableBackground: \"new 44.5 -15.5 606 828\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    className: \"svg-btn\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"#00000000\",\n    width: \"606px\",\n    height: \"828px\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M429.007,0.064c-29.083,1.213-56.633,12.309-71.938,36.663l-34.72,55.273 c-0.249,0.385-0.587,0.719-0.835,1.11L86.811,466.692l-3.056,5l-0.275,6.111L69.037,759.166l-1.945,40.832l35.553-19.443 l247.483-135.27l5.278-2.777l3.332-5l270.255-429.965c17.493-27.834,12.521-62.189-3.61-91.655 c-16.133-29.471-43.799-57.112-78.883-79.16C511.416,14.678,475.059,2.095,441.504,0.341c-4.193-0.22-8.344-0.451-12.499-0.276 H429.007z M430.674,45.616c2.615-0.071,5.413,0.125,8.332,0.276c23.358,1.221,53.824,11.179,83.327,29.721 c29.503,18.54,51.542,41.423,62.773,61.939c9.481,17.323,11.079,30.668,7.499,40.553c-0.951-1.955-1.729-3.917-2.777-5.833 c-16.133-29.471-43.521-57.11-78.605-79.16c-35.084-22.049-71.719-34.632-105.271-36.386c-2.145-0.111-4.249-0.268-6.388-0.276 c6.271-6.267,16.248-10.417,31.107-10.833L430.674,45.616z M395.121,102.277c2.615-0.07,5.413-0.151,8.332,0 c23.359,1.222,53.824,11.18,83.327,29.722c29.503,18.541,51.541,41.7,62.772,62.218c10.853,19.824,11.609,34.24,5.833,44.439 l-19.166,30.832c-1.424-3.188-3.02-6.334-4.722-9.443c-15.545-28.396-42.248-55.312-76.661-76.938 c-34.414-21.628-70.44-34.141-102.766-35.83c-3.57-0.187-7.037-0.104-10.555,0l18.609-29.721h0.275l0.561-1.111 c5.839-8.312,16.648-13.675,34.163-14.165L395.121,102.277z M341.513,181.716c2.801-0.089,5.815,0.117,8.888,0.277 c23.163,1.211,52.025,10.307,80.551,27.22L268.467,467.807c-42.367,25.225-82.207,22.146-119.155,14.166l-15.832-3.334 l182.759-291.364c6.665-3.274,15.084-5.247,25.275-5.556L341.513,181.716z M267.075,486.412 c-1.271,53.684,24.74,92.1,49.719,122.764l1.388,1.668l-158.317,86.381c-7.82-15.133-20.877-23.244-40.553-25.275l9.167-178.875 l6.388,1.666c38.44,9.199,84.428,16.039,132.212-8.332L267.075,486.412z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPencil2);\nexport default __webpack_public_path__ + \"static/media/pencil2.eea4b4f9.svg\";\nexport { ForwardRef as ReactComponent };","const getFrontUrl = (frontRef, docs) => {\n  if (!frontRef && !docs) return;\n  const index = docs.findIndex((image) => {\n    return image.refString === frontRef;\n  });\n  if (index === -1) return null;\n  return docs[index].url;\n};\n\nexport default getFrontUrl;\n","import React from \"react\";\nimport { ReactComponent as ExpandSymbol } from \"../svg/expand.svg\";\nimport getFrontUrl from \"../utils/getFrontUrl\";\nimport useFirestore from \"../hooks/useFirestore\";\n\nexport default function CollapsedTile({\n  title,\n  newCollection,\n  frontRef,\n  description,\n  collectionViewHandler,\n}) {\n  const { docs } = useFirestore(title);\n  if (newCollection === title) {\n    return null;\n  } else\n    return (\n      <div className='collection-tile'>\n        <div className='collection-tile__img-wrapper'>\n          <img\n            className='collection-tile__img'\n            src={getFrontUrl(frontRef, docs)}\n            alt={frontRef}\n          />\n        </div>\n        <div className='collection-tile__info'>\n          <h3 className='collection-tile__title'>{title} </h3>\n          <div>{description}</div>\n        </div>\n        <div\n          className='collection-tile__expand-btn'\n          onClick={collectionViewHandler}\n        >\n          <ExpandSymbol />\n        </div>\n      </div>\n    );\n}\n","const numberToGBP = (num) => {\n  const formatter = new Intl.NumberFormat(\"en-GB\", {\n    style: \"currency\",\n    currency: \"GBP\",\n  });\n\n  return formatter.format(num);\n};\n\nexport default numberToGBP;\n","import React from \"react\";\nimport numberToGBP from \"../utils/numberToGBP\";\n\nexport default function SellPanel({ sellData, handleSell, handleDiscontinue }) {\n  const handleEdit = () => {\n    handleSell();\n  };\n\n  return (\n    <>\n      <h4 className='collection-tile__sell-panel__price'>\n        {numberToGBP(sellData.price)}\n      </h4>\n      <span className='collection-tile__sell-panel__qty'>\n        Qty:&nbsp;\n        <h4 className='collection-tile__sell-panel__price'>\n          {sellData.quantity}\n        </h4>\n      </span>\n      <button className='collection-tile__sell-panel__btn' onClick={handleEdit}>\n        Edit Selling Details\n      </button>\n      <button\n        className='collection-tile__sell-panel__btn  btn-danger'\n        onClick={handleDiscontinue}\n        style={{ margin: \"0 0 0 1em\" }}\n      >\n        Discontinue\n      </button>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport ImageGrid from \"./ImageGrid\";\nimport UploadForm from \"./UploadForm\";\nimport { ReactComponent as Pencil } from \"../svg/pencil2.svg\";\nimport { projectStorage, projectFirestore } from \"../firebase\";\nimport deleteImageHandler from \"../utils/deleteImageHandler\";\n\nimport SellPanel from \"./SellPanel\";\nimport { useSelector } from \"react-redux\";\n\nexport default function ExpandedTile({\n  title,\n  description,\n  descriptionVal,\n  descriptionEditMode,\n  collectionViewHandler,\n  setDescriptionVal,\n  setDescriptionEditMode,\n  setExpanded,\n  handleSell,\n  handleDiscontinue,\n}) {\n  const collectionsModel = useSelector((state) => state.collectionsModel);\n  const thisIndex = collectionsModel.findIndex(\n    (collection) => collection.title === title\n  );\n\n  const editDescription = () => {\n    setDescriptionEditMode(!descriptionEditMode);\n    setDescriptionVal(description);\n  };\n\n  const descriptionChangeHandler = (e) => {\n    setDescriptionVal(e.target.value);\n  };\n\n  const collectionSaveEdits = (e) => {\n    collectionViewHandler(e);\n\n    //// 1. Make copy of global collectionsModel\n    const collectionsModelCopy = [...collectionsModel];\n\n    //// 2. Insert updated description\n    collectionsModelCopy[thisIndex].description = descriptionVal;\n\n    //// 3. Stringify each array obj\n    const collectionsStringified = collectionsModelCopy.map((collection) =>\n      JSON.stringify(collection)\n    );\n\n    //// 4. Update database\n    const register = projectFirestore.collection(\"00_admin\").doc(\"register\");\n    register.update({ collections: collectionsStringified.reverse() });\n  };\n\n  const deleteCollectionHandler = () => {\n    setExpanded(false);\n\n    // Delete actual images from storage.\n    projectFirestore\n      .collection(title)\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          deleteImageHandler({\n            projectStorage,\n            projectFirestore,\n            collectionTitle: title,\n            refString: doc.data().refString,\n            id: doc.id,\n          });\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error: \", err);\n      });\n\n    // Delete from database and 00_admin document.\n    const register = projectFirestore.collection(\"00_admin\").doc(\"register\");\n    register.get().then((doc) => {\n      const wholeArray = [...doc.data().collections];\n      const thisTileIndex = doc\n        .data()\n        .collections.findIndex(\n          (collection) => JSON.parse(collection).title === title\n        );\n      // Delete the collection entry in firestore: 00_admin/register\n      wholeArray.splice(thisTileIndex, 1);\n      projectFirestore\n        .collection(\"00_admin\")\n        .doc(\"register\")\n        .set({ collections: wholeArray }, { merge: true });\n    });\n  };\n\n  return (\n    <div className='collection-tile__expanded'>\n      <div className='collection-tile__expanded__left'>\n        <ImageGrid collection={title} />\n        <UploadForm collection={title} style={{ marginBottom: \"0\" }} />\n      </div>\n      <div className='collection-tile__expanded__right'>\n        <h2 className='collection-tile__title'>{title} </h2>\n\n        <div className='collection-tile__edit-btn'></div>\n        {descriptionEditMode ? (\n          <textarea\n            type='text'\n            id='description'\n            value={descriptionVal}\n            required\n            style={{ marginBottom: \"1em\" }}\n            rows='4'\n            cols='50'\n            onChange={descriptionChangeHandler}\n          />\n        ) : (\n          <div>{description}</div>\n        )}\n        <div className='collection-tile__edit-btn'>\n          <Pencil\n            style={{ height: \"20px\", width: \"20px\" }}\n            onClick={editDescription}\n          />\n        </div>\n        <div className='collection-tile__sell-panel'>\n          {collectionsModel[thisIndex].sellData ? (\n            <SellPanel\n              sellData={collectionsModel[thisIndex].sellData}\n              handleSell={handleSell}\n              handleDiscontinue={handleDiscontinue}\n            />\n          ) : (\n            <button\n              className='collection-tile__sell-panel__btn'\n              onClick={handleSell}\n            >\n              Sell Collection\n            </button>\n          )}\n        </div>\n        <div className='collection-tile__btn-panel'>\n          <button\n            className='new-collection__start-btn collection-tile__btn btn-danger'\n            onClick={deleteCollectionHandler}\n            style={{ marginLeft: \"0\", marginRight: \"auto\" }}\n          >\n            Delete Collection\n          </button>\n          <button\n            className='new-collection__start-btn collection-tile__btn'\n            onClick={collectionSaveEdits}\n          >\n            Save\n          </button>\n          <button\n            className='new-collection__start-btn collection-tile__btn'\n            onClick={collectionViewHandler}\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport default function SellDialogue({\n  title,\n  handleSell,\n  confirmSellingData,\n}) {\n  const [error, setError] = useState(\"\");\n  const collectionsModel = useSelector((state) => state.collectionsModel);\n  const thisIndex = collectionsModel.findIndex(\n    (collection) => collection.title === title\n  );\n  const [sellData, setSellData] = useState({ price: \"0\", quantity: \"0\" });\n\n  useEffect(() => {\n    if (collectionsModel[thisIndex].sellData) {\n      setSellData(collectionsModel[thisIndex].sellData);\n    }\n  }, []);\n\n  useEffect(() => {\n    console.log(\"sellData: \", sellData);\n  }, [sellData]);\n\n  const handleConfirm = (e) => {\n    e.preventDefault();\n    if (!e.target.form.price.value) {\n      setError(\"Please enter a Unit Price.\");\n      return;\n    }\n    if (e.target.form.price.value <= 0) {\n      setError(\"Invalid Price.\");\n      return;\n    }\n    if (!e.target.form.quantity.value) {\n      setError(\"Please enter a Quantity.\");\n      return;\n    }\n    if (e.target.form.quantity.value <= 0) {\n      setError(\"Invalid Quantity.\");\n      return;\n    }\n\n    confirmSellingData({\n      price: e.target.form.price.value,\n      quantity: e.target.form.quantity.value,\n    });\n  };\n\n  const onChangeHandler = (e) => {\n    const sellDataCopy = { ...sellData };\n    sellDataCopy[e.target.id] = e.target.value;\n    setSellData(sellDataCopy);\n  };\n\n  return (\n    <div className='sell-dialogue'>\n      <form>\n        <div className='sell-dialogue__grid'>\n          <h3 className='sell-dialogue__title'>{title} </h3>\n          {error && (\n            <div className='error-msg sell-dialogue__error'>{error}</div>\n          )}\n\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            <label for='price'>Unit Price (£):</label>\n          </div>\n          <input\n            className='sell-dialogue__input'\n            id='price'\n            type='number'\n            step='0.01'\n            min='0.01'\n            value={sellData.price}\n            onChange={onChangeHandler}\n            required\n          />\n\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            <label for='quantity'>Quantity in Stock:</label>\n          </div>\n          <input\n            className='sell-dialogue__input'\n            id='quantity'\n            type='number'\n            step='1'\n            min='1'\n            value={sellData.quantity}\n            onChange={onChangeHandler}\n          />\n          <div className='sell-dialogue__btn-panel'>\n            <button type='submit' onClick={handleConfirm}>\n              Confirm\n            </button>\n            <button onClick={handleSell}>Cancel</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"../firebase\";\nimport { useSelector } from \"react-redux\";\nimport CollapsedTile from \"./CollapsedTile\";\nimport ExpandedTile from \"./ExpandedTile\";\nimport SellDialogue from \"./SellDialogue\";\n\nexport default function CollectionTile({ title, frontRef, description }) {\n  // const { docs } = useFirestore(title);\n  const [expanded, setExpanded] = useState(false);\n  const [descriptionVal, setDescriptionVal] = useState(\"\");\n  const newCollection = useSelector((state) => state.newCollection);\n  const [descriptionEditMode, setDescriptionEditMode] = useState(false);\n  const [isSellDialogueActive, setIsSellDialogueActive] = useState(false);\n  const collectionsModel = useSelector((state) => state.collectionsModel);\n  const thisIndex = collectionsModel.findIndex(\n    (collection) => collection.title === title\n  );\n\n  useEffect(() => {\n    setDescriptionVal(description);\n  }, [description]);\n\n  const collectionViewHandler = (e) => {\n    if (expanded === true) {\n      setExpanded(false);\n      setDescriptionVal(description);\n      setDescriptionEditMode(false);\n    } else {\n      setExpanded(true);\n    }\n  };\n\n  const handleSell = () => {\n    setIsSellDialogueActive(!isSellDialogueActive);\n  };\n\n  const confirmSellingData = (sellData) => {\n    console.log(sellData);\n    //// 1. Make copy of global collectionsModel\n    const collectionsModelCopy = [...collectionsModel];\n\n    //// 2. Insert selling data\n    collectionsModelCopy[thisIndex].sellData = sellData;\n    console.log(collectionsModelCopy);\n\n    //// 3. Stringify each array obj\n    const collectionsStringified = collectionsModelCopy.map((collection) =>\n      JSON.stringify(collection)\n    );\n\n    //// 4. Update database\n    const register = projectFirestore.collection(\"00_admin\").doc(\"register\");\n    register.update({ collections: collectionsStringified.reverse() });\n\n    // Close dialogue\n    handleSell();\n  };\n\n  const handleDiscontinue = () => {\n    console.log(\"Discontinue\");\n    const collectionsModelCopy = [...collectionsModel];\n    delete collectionsModelCopy[thisIndex].sellData;\n    const collectionsStringified = collectionsModelCopy.map((collection) =>\n      JSON.stringify(collection)\n    );\n    const register = projectFirestore.collection(\"00_admin\").doc(\"register\");\n    register.update({ collections: collectionsStringified.reverse() });\n  };\n\n  return (\n    <div>\n      {expanded ? (\n        isSellDialogueActive ? (\n          <SellDialogue\n            title={title}\n            handleSell={handleSell}\n            confirmSellingData={confirmSellingData}\n          />\n        ) : (\n          <ExpandedTile\n            title={title}\n            // newCollection={newCollection}\n            // frontRef={frontRef}\n            setExpanded={setExpanded}\n            description={description}\n            collectionViewHandler={collectionViewHandler}\n            descriptionVal={descriptionVal}\n            setDescriptionVal={setDescriptionVal}\n            descriptionEditMode={descriptionEditMode}\n            setDescriptionEditMode={setDescriptionEditMode}\n            handleSell={handleSell}\n            handleDiscontinue={handleDiscontinue}\n          />\n        )\n      ) : (\n        <CollapsedTile\n          title={title}\n          newCollection={newCollection}\n          frontRef={frontRef}\n          description={description}\n          collectionViewHandler={collectionViewHandler}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useHistory } from \"react-router-dom\";\nimport NavBar from \"./NavBar\";\nimport NewCollection from \"./NewCollection\";\nimport { projectFirestore } from \"../firebase\";\nimport CollectionTile from \"./CollectionTile\";\nimport { useDispatch } from \"react-redux\";\nimport { setCollectionsModel } from \"../actions\";\n\nexport default function Dashboard() {\n  const [error, setError] = useState(\"\");\n  const { currentUser } = useAuth();\n  const [collections, setCollections] = useState([]);\n  const { logout } = useAuth();\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  async function handleLogout() {\n    setError(\"\");\n    try {\n      await logout();\n      history.pushState(\"/login\");\n    } catch {\n      setError(\"Failed to log out\");\n    }\n  }\n\n  useEffect(() => {\n    // set redux global state\n    dispatch(setCollectionsModel(collections));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [collections]);\n\n  useEffect(() => {\n    const unsubscribe = projectFirestore\n      .collection(\"00_admin\")\n      .doc(\"register\")\n      .onSnapshot((snap) => {\n        console.log(snap.data());\n        const collectionArr = snap.data().collections.map((collection) => {\n          return JSON.parse(collection);\n        });\n        setCollections(collectionArr.reverse());\n      });\n\n    return () => unsubscribe();\n  }, []);\n\n  return (\n    <div className='app-body'>\n      <div className='back-of-house-background' />\n      <NavBar\n        error={error}\n        currentUser={currentUser}\n        handleLogout={handleLogout}\n      />\n\n      <NewCollection />\n\n      {collections.map((collection) => {\n        return (\n          <CollectionTile\n            title={collection.title}\n            frontRef={collection.front}\n            description={collection.description}\n          />\n        );\n      })}\n    </div>\n  );\n}\n","import React, { useRef, useState } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nexport default function Login() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const { login } = useAuth();\n  // const { currentUser } = useAuth();\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      await login(emailRef.current.value, passwordRef.current.value);\n      history.push(\"/dashboard\");\n    } catch {\n      setError(\"Failed to sign in\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <div>\n      <div className='back-of-house-background' />\n      <div className='small-container'>\n        <h2>Log In</h2>\n        <form className='user-form' onSubmit={handleSubmit}>\n          {error && <div className='error-msg'>{error}</div>}\n          <label for='email'>Email</label>\n          <input\n            type='email'\n            id='email'\n            ref={emailRef}\n            required\n            style={{ marginBottom: \"1em\" }}\n          />\n\n          <label for='password'>Password</label>\n          <input\n            type='password'\n            id='password'\n            ref={passwordRef}\n            required\n            style={{ marginBottom: \"1em\" }}\n          />\n\n          <button\n            className='user-form__btn'\n            type='submit'\n            disabled={loading}\n            style={{ marginTop: \"1em\" }}\n          >\n            Log In\n          </button>\n        </form>\n\n        <Link to='/signup'>Sign Up</Link>\n      </div>\n    </div>\n  );\n}\n","var _g, _rect, _line, _line2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgExitWhite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 30 30\",\n    enableBackground: \"new 0 0 30 30\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1_1_\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    width: 30,\n    height: 30\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    x1: 9.375,\n    y1: 9.375,\n    x2: 20.625,\n    y2: 20.625\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    x1: 20.625,\n    y1: 9.375,\n    x2: 9.375,\n    y2: 20.625\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExitWhite);\nexport default __webpack_public_path__ + \"static/media/exit-white.a0626105.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth();\n\n  // Ternary redirects too quickly. Should wait until currentUser check is complete before rendering.\n  // currentUser is initially set to \"loading\", before being set to user object or null by auth.onAuthStateChanged.\n\n  return (\n    <div>\n      {currentUser !== \"loading\" ? (\n        <Route\n          {...rest}\n          render={(props) => {\n            return currentUser ? (\n              <Component {...props} />\n            ) : (\n              <Redirect to='/login' />\n            );\n          }}\n        ></Route>\n      ) : null}\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function NavBarFront({ title }) {\n  return (\n    <div className='nav-bar-front'>\n      <h1 className='nav-bar-front__title'>{title}</h1>\n      <div className='nav-bar-front__links'>\n        <h4 className='nav-bar-front__link'>About</h4>\n        <h4 className='nav-bar-front__link'>Contact</h4>\n        <h4 className='nav-bar-front__link'>Basket</h4>\n      </div>\n    </div>\n  );\n}\n","var _g, _rect, _polyline;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLeftWhite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 30 30\",\n    enableBackground: \"new 0 0 30 30\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1_1_\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    width: 30,\n    height: 30\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    points: \" 18.917,3.209 11.083,15 18.917,26.791 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLeftWhite);\nexport default __webpack_public_path__ + \"static/media/left-white.c80110bd.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _rect, _polyline;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRightWhite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 30 30\",\n    enableBackground: \"new 0 0 30 30\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1_1_\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    width: 30,\n    height: 30\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 10,\n    points: \" 11.083,26.791 18.917,15 11.083,3.209 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRightWhite);\nexport default __webpack_public_path__ + \"static/media/right-white.f1a6c03c.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nconst Circle = ({ current }) => {\r\n  const color = current ? \"#FFFFFF\" : \"#555555\";\r\n  return (\r\n    <svg\r\n      version='1.1'\r\n      id='Layer_1'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      x='0px'\r\n      y='0px'\r\n      width='19.583px'\r\n      height='19.583px'\r\n      viewBox='2.833 7.583 19.583 19.583'\r\n      enable-background='new 2.833 7.583 19.583 19.583'\r\n    >\r\n      <g id='Layer_1_1_'></g>\r\n      <rect x='2.833' y='7.583' fill='none' width='19.583' height='19.583' />\r\n      <circle fill={color} cx='12.625' cy='17.374' r='3.75' />\r\n    </svg>\r\n  );\r\n};\r\nexport default Circle;\r\n","import React from \"react\";\nimport Circle from \"../svg/circle-white.js\";\n\nexport default function BottomPanel({ current, length }) {\n  return (\n    <>\n      {[...Array(length)].map((_, i) => {\n        return (\n          <div>\n            <Circle current={current === i ? true : false} />\n          </div>\n        );\n      })}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { ReactComponent as Exit } from \"../svg/exit-white.svg\";\nimport { ReactComponent as Left } from \"../svg/left-white.svg\";\nimport { ReactComponent as Right } from \"../svg/right-white.svg\";\nimport BottomPanel from \"./BottomPanel\";\n\nexport default function ImageExpand({ expandHandler, docs, collection }) {\n  const [imgArray, setImgArray] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const [current, setCurrent] = useState(0);\n\n  useEffect(() => {\n    // sort docs array so that front image is at start of array\n    const docsCopy = [...docs];\n    docsCopy.sort((a, b) => {\n      if (a.refString === collection.front) return -1;\n      else if (b.refString === collection.front) return 1;\n      else return 0;\n    });\n    setLoaded(true);\n    setImgArray(docsCopy);\n  }, [docs, collection.front]);\n\n  useEffect(() => {\n    console.log(imgArray);\n  }, [imgArray]);\n\n  useEffect(() => {\n    console.log(`${current + 1} of ${imgArray.length}`);\n  }, [current, imgArray]);\n\n  const nextHandler = () => {\n    if (current === imgArray.length - 1) {\n      setCurrent(0);\n    } else {\n      setCurrent(current + 1);\n    }\n  };\n\n  const prevHandler = () => {\n    if (current === 0) {\n      setCurrent(imgArray.length - 1);\n    } else {\n      setCurrent(current - 1);\n    }\n  };\n\n  return (\n    <div className='img-expand-wrapper-front'>\n      <div className='img-expand-wrapper-front__left-container'>\n        <div\n          className='img-expand-wrapper-front__exit-symbol'\n          onClick={expandHandler}\n        >\n          <Exit />\n        </div>\n        {imgArray.length > 1 ? (\n          <div\n            className='img-expand-wrapper-front__left-symbol'\n            onClick={prevHandler}\n          >\n            <Left />\n          </div>\n        ) : null}\n        {imgArray.length > 1 ? (\n          <div\n            className='img-expand-wrapper-front__right-symbol'\n            onClick={nextHandler}\n          >\n            <Right />\n          </div>\n        ) : null}\n        {imgArray.length > 1 ? (\n          <div className='img-expand-wrapper-front__bottom-panel'>\n            <BottomPanel current={current} length={imgArray.length} />\n          </div>\n        ) : null}\n        <div className='img-expand-wrapper-front__img-container'>\n          {loaded && (\n            <img\n              className='img-expand-wrapper-front__img'\n              src={imgArray[current].url}\n              alt={collection.front}\n            />\n          )}\n        </div>\n      </div>\n      <div className='img-expand-wrapper-front__right-container'>\n        <div className='img-expand-wrapper-front__right-container__inner'>\n          <h3 className='img-expand-wrapper-front__right-container__title'>\n            {collection.title}\n          </h3>\n          <div className='img-expand-wrapper-front__right-container__description'>\n            {collection.description}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport useFirestore from \"../hooks/useFirestore\";\nimport ImageExpand from \"./ImageExpand\";\n\nexport default function CollectionTileFront({ collection }) {\n  const { docs } = useFirestore(collection.title);\n  const [isImageExpanded, setIsImageExpanded] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  const getFrontUrl = (frontRef) => {\n    if (!frontRef && !docs) return;\n    const index = docs.findIndex((image) => {\n      return image.refString === frontRef;\n    });\n    if (index === -1) return null;\n    return docs[index].url;\n  };\n\n  const expandHandler = () => {\n    setIsImageExpanded(!isImageExpanded);\n  };\n\n  const handleLoad = () => {\n    console.log(\"Loaded\");\n    setIsLoaded(true);\n  };\n\n  return (\n    <div>\n      <div className='img-grid-front__img-wrapper' onClick={expandHandler}>\n        {!isLoaded && <div className='img-grid-front__img-placeholder' />}\n        <img\n          className={\"img-grid-front__img\"}\n          src={getFrontUrl(collection.front)}\n          alt={collection.front}\n          onLoad={handleLoad}\n        />\n      </div>\n      {isImageExpanded && (\n        <ImageExpand\n          expandHandler={expandHandler}\n          docs={docs}\n          collection={collection}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"../firebase\";\nimport NavBarFront from \"./NavBarFront\";\nimport CollectionTileFront from \"./CollectionTileFront\";\n\nexport default function Gallery() {\n  const [dataRegister, setDataRegister] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n\n  // LOAD COLLECTIONS\n  useEffect(() => {\n    const ref = projectFirestore.collection(\"00_admin\").doc(\"register\");\n    ref.get().then((doc) => {\n      if (doc.exists) {\n        const dataArr = doc.data().collections.map((collection) => {\n          const entry = JSON.parse(collection);\n          return entry;\n        });\n        setDataRegister(dataArr.reverse());\n        setLoaded(true);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    console.log(dataRegister);\n  }, [dataRegister]);\n\n  return (\n    <>\n      <NavBarFront title='Artist Gallery & Shop' />\n      <div className='img-grid-front'>\n        {loaded &&\n          dataRegister.map((collection) => {\n            return <CollectionTileFront collection={collection} />;\n          })}\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport Signup from \"./Signup\";\nimport { AuthProvider } from \"../contexts/AuthContext\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Dashboard from \"./Dashboard\";\nimport Login from \"./Login\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport Gallery from \"./Gallery\";\n// import { createBrowserHistory } from \"history\";\n\n// const history = createBrowserHistory();\n\nfunction App() {\n  return (\n    <div>\n      <Router>\n        <AuthProvider>\n          <Switch>\n            <Route exact path='/' component={Gallery} />\n            <PrivateRoute exact path='/dashboard' component={Dashboard} />\n\n            <Route path='/signup' component={Signup} />\n            <Route path='/login' component={Login} />\n            <Route component={() => <div>404 Not found</div>} />\n          </Switch>\n        </AuthProvider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const descriptionPanel = (state = false, action) => {\n  switch (action.type) {\n    case \"ACTIVE\":\n      return !state;\n    default:\n      return state;\n  }\n};\n\nexport default descriptionPanel;\n","const collectionModelReducer = (state = [], action) => {\n  switch (action.type) {\n    case \"SET\":\n      return action.payload;\n    case \"MARK_FRONT\":\n      const stateCopy = [...state];\n      const index = stateCopy.findIndex(\n        (i) => i.title === action.payload.collectionTitle\n      );\n      stateCopy[index].front = action.payload.refString;\n      return stateCopy;\n    default:\n      return state;\n  }\n};\n\nexport default collectionModelReducer;\n","const newCollectionReducer = (state = null, action) => {\n  switch (action.type) {\n    case \"SET_NEW_COLLECTION\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport default newCollectionReducer;\n","import descriptionPanelReducer from \"./descriptionPanel\";\nimport collectionsModelReducer from \"./collectionsModel\";\nimport newCollectionReducer from \"./newCollection\";\nimport { combineReducers } from \"redux\";\n\n// Combines all reducers using combineReducers from redux.\nconst allReducers = combineReducers({\n  descriptionPanel: descriptionPanelReducer,\n  collectionsModel: collectionsModelReducer,\n  newCollection: newCollectionReducer,\n});\n\nexport default allReducers;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport styles from \"./styles.scss\";\n\nimport { createStore } from \"redux\";\nimport allReducers from \"./reducers\";\nimport { Provider } from \"react-redux\";\n\nconst store = createStore(\n  allReducers,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}