(this["webpackJsonpgallery-app"]=this["webpackJsonpgallery-app"]||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(21),l=n.n(i),a=n(11),o=n.n(a),s=n(14),d=n(2),u=n(19),j=n.n(u),b=(n(41),n(59),n(43),j.a.initializeApp({apiKey:"AIzaSyDttnqtkHqI6kYwHYtIB27___9xksJ8uHI",authDomain:"gallery-dev-3f3e7.firebaseapp.com",databaseURL:"https://gallery-dev-3f3e7-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gallery-dev-3f3e7",storageBucket:"gallery-dev-3f3e7.appspot.com",messagingSenderId:"63650886380",appId:"1:63650886380:web:7b777528a44730f1e86bc9"}).auth()),f=j.a.storage(),p=j.a.firestore(),O=j.a.firestore.FieldValue.serverTimestamp,m=n(0),x=c.a.createContext();function h(){return Object(r.useContext)(x)}function g(e){var t=e.children,n=Object(r.useState)("loading"),c=Object(d.a)(n,2),i=c[0],l=c[1];Object(r.useEffect)((function(){return b.onAuthStateChanged((function(e){l(e)}))}),[]);var a={currentUser:i,signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},login:function(e,t){return b.signInWithEmailAndPassword(e,t)},logout:function(){return b.signOut()}};return Object(m.jsx)(x.Provider,{value:a,children:t})}var v=n(5),_=n(8);function y(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useRef)(),c=h().signup,i=Object(r.useState)(""),l=Object(d.a)(i,2),a=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),f=b[0],p=b[1],O=Object(v.g)();function x(){return(x=Object(s.a)(o.a.mark((function r(i){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.preventDefault(),console.log("passwordRef",t),console.log("passwordRef.current",t.current),console.log("passwordRef.current.value",t.current.value),t.current.value===n.current.value){r.next=6;break}return r.abrupt("return",u("Passwords do not match"));case 6:return r.prev=6,u(""),p(!0),r.next=11,c(e.current.value,t.current.value);case 11:O.push("/dashboard"),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(6),u("Failed to create an account");case 17:p(!1);case 18:case"end":return r.stop()}}),r,null,[[6,14]])})))).apply(this,arguments)}return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"small-container",children:[Object(m.jsx)("div",{className:"back-of-house-background"}),Object(m.jsx)("h2",{children:"Sign Up"}),Object(m.jsxs)("form",{className:"user-form",onSubmit:function(e){return x.apply(this,arguments)},children:[a&&Object(m.jsx)("div",{className:"error-msg",children:a}),Object(m.jsx)("label",{for:"email",children:"Email"}),Object(m.jsx)("input",{type:"email",id:"email",ref:e,required:!0,style:{marginBottom:"1em"}}),Object(m.jsx)("label",{for:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",id:"password",ref:t,required:!0,style:{marginBottom:"1em"}}),Object(m.jsx)("label",{for:"confirm",children:"Confirm Password"}),Object(m.jsx)("input",{type:"password",id:"confirm",ref:n,required:!0}),Object(m.jsx)("button",{className:"user-form__btn",type:"submit",disabled:f,style:{marginTop:"1em"},children:"Sign Up"})]}),Object(m.jsx)("div",{children:"Already have an account?"}),Object(m.jsx)(_.b,{to:"/login",children:"Log In"})]})})}function w(e){return Object(m.jsxs)("div",{className:"nav-bar",children:[Object(m.jsx)("h2",{className:"nav-bar__title",children:"Dashboard"}),e.error&&Object(m.jsx)("div",{className:"error-msg",children:e.error}),Object(m.jsx)("div",{className:"nav-bar__email",children:e.currentUser.email}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:"nav-bar__logout",onClick:e.handleLogout,children:"Log Out"})})]})}var k=n(6),N=function(e,t,n){var c=Object(r.useState)(0),i=Object(d.a)(c,2),l=i[0],a=i[1],u=Object(r.useState)(null),j=Object(d.a)(u,2),b=j[0],m=j[1],x=Object(r.useState)(null),h=Object(d.a)(x,2),g=h[0],v=h[1];return Object(r.useEffect)((function(){var r,c="".concat((new Date).toLocaleString().replace(/\/|:|,|\s/gi,""),"_").concat(e.name),i=f.ref(c),l=p.collection(t),d=[];p.collection("00_admin").doc("register").get().then((function(e){e.exists?d=S(e.data().collections,t)?Object(k.a)(e.data().collections):[].concat(Object(k.a)(e.data().collections),[JSON.stringify({title:t,front:c,description:n})]):d.push(JSON.stringify({title:t,front:c,description:n}))})).catch((function(e){console.log("Error: ",e)})),i.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;a(t),r=e.totalBytes}),(function(e){m(e)}),Object(s.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getDownloadURL();case 2:t=e.sent,n=O(),l.add({refString:c,url:t,createdAt:n,bytes:r}),p.collection("00_admin").doc("register").set({collections:d},{merge:!0}),v(t);case 7:case"end":return e.stop()}}),e)}))))}),[e,t,n]),{progress:l,url:g,error:b}},S=function(e,t){return e.some((function(e){return JSON.parse(e).title===t}))};function E(e){var t=e.file,n=e.setFile,c=e.collection,i=e.description,l=N(t,c,i),a=l.url,o=l.progress;return Object(r.useEffect)((function(){a&&n(null)}),[a,n]),console.log(o,a),Object(m.jsx)("div",{className:"progress-bar",style:{width:o+"%"},children:o&&Math.round(o)})}function F(e){var t=Object(r.useState)(null),n=Object(d.a)(t,2),c=n[0],i=n[1],l=Object(r.useState)(null),a=Object(d.a)(l,2),o=a[0],s=a[1],u=["image/png","image/jpeg"];var j=e.style?e.style:{marginBottom:"1em"};return Object(m.jsxs)("form",{children:[Object(m.jsx)("label",{for:"file-upload",class:"file-upload",children:Object(m.jsx)("div",{className:"faux-btn",style:{marginBottom:"1em"},children:"Upload Image"})}),Object(m.jsx)("input",{id:"file-upload",type:"file",onChange:function(e){var t=e.target.files[0];console.log(t),t&&t.size>5242880?s("File size must not exceed 5 MB"):t&&u.includes(t.type)?(i(t),s("")):(i(null),s("Please select an image file (png or jpeg)"))},style:j}),Object(m.jsxs)("div",{children:[o&&Object(m.jsx)("div",{className:"error-msg",style:{margin:"0.5em 0"},children:o}),c&&Object(m.jsx)("div",{children:c.name}),c&&Object(m.jsx)(E,{file:c,setFile:i,collection:e.collection,description:e.description})]})]})}var L,C,D,I=n(12);function B(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){var t=p.collection(e).orderBy("createdAt","asc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:c}}var T=["title","titleId"];function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function A(e,t){var n=e.title,c=e.titleId,i=q(e,T);return r.createElement("svg",P({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 100 100",enableBackground:"new 0 0 100 100",xmlSpace:"preserve",ref:t,"aria-labelledby":c},i),n?r.createElement("title",{id:c},n):null,L||(L=r.createElement("g",{id:"Layer_1_1_"})),C||(C=r.createElement("g",{id:"Layer_2"},r.createElement("circle",{fill:"none",stroke:"#FFFFFF",strokeWidth:5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,cx:50,cy:50,r:40.064}))),D||(D=r.createElement("rect",{fill:"none",width:100,height:100})))}var R,M,U,V,J=r.forwardRef(A),W=(n.p,["title","titleId"]);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function H(e,t){var n=e.title,c=e.titleId,i=X(e,W);return r.createElement("svg",K({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 100 100",enableBackground:"new 0 0 100 100",xmlSpace:"preserve",ref:t,"aria-labelledby":c},i),n?r.createElement("title",{id:c},n):null,R||(R=r.createElement("g",{id:"Layer_1_1_"})),M||(M=r.createElement("circle",{fill:"none",stroke:"#FFFFFF",strokeWidth:5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,cx:50,cy:50,r:40.064})),U||(U=r.createElement("circle",{fill:"#FFFFFF",cx:50,cy:50,r:30.803})),V||(V=r.createElement("rect",{fill:"none",width:100,height:100})))}var z=r.forwardRef(H),Q=(n.p,function(e){var t=e.color;return Object(m.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 100 100","enable-background":"new 0 0 100 100",children:[Object(m.jsx)("g",{id:"Layer_1_1_"}),Object(m.jsx)("g",{id:"Layer_2",children:Object(m.jsxs)("g",{children:[Object(m.jsx)("line",{fill:"none",stroke:t||"#FFFFFF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"13.256",y1:"19.757",x2:"87.256",y2:"19.757"}),Object(m.jsx)("polyline",{fill:"none",stroke:t||"#FFFFFF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"\r 18.384,19.757 24.745,92.757 74.745,92.757 81.881,19.757 \t\t"}),Object(m.jsx)("polyline",{fill:"none",stroke:t||"#FFFFFF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"\r 33.911,19.5 38.745,7.757 60.745,7.757 65.577,19.628 \t\t"}),Object(m.jsx)("line",{fill:"none",stroke:t||"#FFFFFF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"33.911",y1:"33.743",x2:"36.745",y2:"76.743"}),Object(m.jsx)("line",{fill:"none",stroke:t||"#FFFFFF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"49.756",y1:"34.257",x2:"49.756",y2:"77.257"}),Object(m.jsx)("line",{fill:"none",stroke:t||"#FFFFFF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"65.577",y1:"33.743",x2:"62.745",y2:"76.743"})]})}),Object(m.jsx)("rect",{fill:"none",width:"100",height:"100"})]})}),G=n(4);function Y(e){var t=e.projectStorage,n=e.projectFirestore,r=e.collectionTitle,c=e.refString,i=e.id;t.ref(c).delete().then((function(){n.collection(r).doc(i).delete().then((function(){console.log("Document deleted")}))})).catch((function(e){console.error("Error removing document: ",e)}))}var Z,$,ee,te=function(e){return{type:"SET_NEW_COLLECTION",payload:e}};function ne(e){var t=e.collectionTitle,n=e.refString,c=e.id,i=Object(G.c)((function(e){return e.collectionsModel})),l=Object(r.useState)(!1),a=Object(d.a)(l,2),o=a[0],s=a[1],u=Object(G.b)();return Object(r.useEffect)((function(){i.some((function(e){return e.front===n}))?s(!0):s(!1)}),[i,n]),Object(m.jsx)("div",{className:"image-overlay",children:o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(z,{}),Object(m.jsx)(Q,{color:"#ffffff55"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(J,{onClick:function(){console.log("new front image"),u(function(e,t){return{type:"MARK_FRONT",payload:{collectionTitle:e,refString:t}}}(t,n))}}),Object(m.jsx)("div",{onClick:function(){return Y({projectStorage:f,projectFirestore:p,collectionTitle:t,refString:n,id:c})},children:Object(m.jsx)(Q,{})})]})})}function re(e){var t=B(e.collection).docs;return Object(m.jsx)("div",{className:"img-grid",children:t&&t.map((function(t){return Object(m.jsxs)("div",{className:"img-grid__wrap",children:[e.noOverlay?null:Object(m.jsx)(ne,{refString:t.refString,id:t.id,collectionTitle:e.collection}),Object(m.jsx)("img",{src:t.url,alt:"uploaded-pic"})]},t.id)}))})}function ce(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),c=Object(r.useState)(""),i=Object(d.a)(c,2),l=i[0],a=i[1],o=Object(r.useState)(""),s=Object(d.a)(o,2),u=s[0],j=s[1],b=Object(r.useState)(0),f=Object(d.a)(b,2),p=f[0],O=f[1],x=Object(G.b)(),h=function(){console.log("Start new collection"),O(1)},g=function(){O(0)},v=function(e){e.preventDefault(),t.current.value&&(a(t.current.value),x(te(t.current.value)),O(2))},_=function(e){e.preventDefault(),j(n.current.value),O(3)},y=function(){x(te(null)),O(0)},w=function(){switch(p){case 0:return Object(m.jsx)("button",{className:"new-collection__start-btn",onClick:h,children:"Create New Collection"});case 1:return Object(m.jsx)("div",{className:"new-collection__container",children:Object(m.jsxs)("form",{className:"new-collection__form-container",children:[Object(m.jsx)("label",{for:"title",children:"Collection Title"}),Object(m.jsx)("input",{type:"text",id:"title",ref:t,required:!0,style:{marginBottom:"1em"}}),Object(m.jsxs)("div",{className:"new-collection__btn-panel",children:[Object(m.jsx)("button",{className:"new-collection__start-btn",onClick:v,type:"submit",children:"OK"}),Object(m.jsx)("button",{className:"new-collection__start-btn",onClick:g,children:"Cancel"})]})]})});case 2:return Object(m.jsx)("div",{className:"new-collection__container",children:Object(m.jsxs)("div",{className:"new-collection__form-container",children:[Object(m.jsx)("label",{for:"description",children:"Enter a Description"}),Object(m.jsx)("textarea",{type:"text",id:"description",ref:n,required:!0,style:{marginBottom:"1em"},rows:"4",cols:"50"}),Object(m.jsx)("div",{className:"new-collection__btn-panel",children:Object(m.jsx)("button",{className:"new-collection__start-btn",onClick:_,children:"Done"})})]})});case 3:return Object(m.jsx)("div",{className:"new-collection__container",children:Object(m.jsxs)("div",{className:"new-collection__form-container",children:[Object(m.jsx)("h3",{children:l}),Object(m.jsx)(F,{collection:l,description:u}),Object(m.jsx)(re,{collection:l,noOverlay:"true"}),Object(m.jsx)("div",{className:"new-collection__btn-panel",children:Object(m.jsx)("button",{className:"new-collection__start-btn",onClick:y,children:"Done"})})]})});default:return null}};return Object(m.jsx)("div",{className:"new-collection",children:Object(m.jsx)(w,{})})}var ie=["title","titleId"];function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function oe(e,t){var n=e.title,c=e.titleId,i=ae(e,ie);return r.createElement("svg",le({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 30 30",enableBackground:"new 0 0 30 30",xmlSpace:"preserve",ref:t,"aria-labelledby":c},i),n?r.createElement("title",{id:c},n):null,Z||(Z=r.createElement("g",{id:"Layer_1_1_"})),$||($=r.createElement("rect",{fill:"none",width:30,height:30})),ee||(ee=r.createElement("polyline",{fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,points:" 3.209,13.167 15,21 26.791,13.167 "})))}var se,de=r.forwardRef(oe),ue=(n.p,function(e,t){if(e||t){var n=t.findIndex((function(t){return t.refString===e}));return-1===n?null:t[n].url}});function je(e){var t=e.title,n=e.newCollection,r=e.frontRef,c=e.description,i=e.collectionViewHandler,l=B(t).docs;return n===t?null:Object(m.jsxs)("div",{className:"collection-tile",children:[Object(m.jsx)("div",{className:"collection-tile__img-wrapper",children:Object(m.jsx)("img",{className:"collection-tile__img",src:ue(r,l),alt:r})}),Object(m.jsxs)("div",{className:"collection-tile__info",children:[Object(m.jsxs)("h3",{className:"collection-tile__title",children:[t," "]}),Object(m.jsx)("div",{children:c})]}),Object(m.jsx)("div",{className:"collection-tile__expand-btn",onClick:i,children:Object(m.jsx)(de,{})})]})}var be=["title","titleId"];function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Oe(e,t){var n=e.title,c=e.titleId,i=pe(e,be);return r.createElement("svg",fe({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"606px",height:"828px",viewBox:"44.5 -15.5 606 828",enableBackground:"new 44.5 -15.5 606 828",xmlSpace:"preserve",ref:t,"aria-labelledby":c},i),n?r.createElement("title",{id:c},n):null,se||(se=r.createElement("g",{className:"svg-btn"},r.createElement("rect",{fill:"#00000000",width:"606px",height:"828px"}),r.createElement("path",{d:"M429.007,0.064c-29.083,1.213-56.633,12.309-71.938,36.663l-34.72,55.273 c-0.249,0.385-0.587,0.719-0.835,1.11L86.811,466.692l-3.056,5l-0.275,6.111L69.037,759.166l-1.945,40.832l35.553-19.443 l247.483-135.27l5.278-2.777l3.332-5l270.255-429.965c17.493-27.834,12.521-62.189-3.61-91.655 c-16.133-29.471-43.799-57.112-78.883-79.16C511.416,14.678,475.059,2.095,441.504,0.341c-4.193-0.22-8.344-0.451-12.499-0.276 H429.007z M430.674,45.616c2.615-0.071,5.413,0.125,8.332,0.276c23.358,1.221,53.824,11.179,83.327,29.721 c29.503,18.54,51.542,41.423,62.773,61.939c9.481,17.323,11.079,30.668,7.499,40.553c-0.951-1.955-1.729-3.917-2.777-5.833 c-16.133-29.471-43.521-57.11-78.605-79.16c-35.084-22.049-71.719-34.632-105.271-36.386c-2.145-0.111-4.249-0.268-6.388-0.276 c6.271-6.267,16.248-10.417,31.107-10.833L430.674,45.616z M395.121,102.277c2.615-0.07,5.413-0.151,8.332,0 c23.359,1.222,53.824,11.18,83.327,29.722c29.503,18.541,51.541,41.7,62.772,62.218c10.853,19.824,11.609,34.24,5.833,44.439 l-19.166,30.832c-1.424-3.188-3.02-6.334-4.722-9.443c-15.545-28.396-42.248-55.312-76.661-76.938 c-34.414-21.628-70.44-34.141-102.766-35.83c-3.57-0.187-7.037-0.104-10.555,0l18.609-29.721h0.275l0.561-1.111 c5.839-8.312,16.648-13.675,34.163-14.165L395.121,102.277z M341.513,181.716c2.801-0.089,5.815,0.117,8.888,0.277 c23.163,1.211,52.025,10.307,80.551,27.22L268.467,467.807c-42.367,25.225-82.207,22.146-119.155,14.166l-15.832-3.334 l182.759-291.364c6.665-3.274,15.084-5.247,25.275-5.556L341.513,181.716z M267.075,486.412 c-1.271,53.684,24.74,92.1,49.719,122.764l1.388,1.668l-158.317,86.381c-7.82-15.133-20.877-23.244-40.553-25.275l9.167-178.875 l6.388,1.666c38.44,9.199,84.428,16.039,132.212-8.332L267.075,486.412z"}))))}var me=r.forwardRef(Oe),xe=(n.p,function(e){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e)});function he(e){var t=e.sellData,n=e.handleSell,r=e.handleDiscontinue;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{className:"collection-tile__sell-panel__price",children:xe(t.price)}),Object(m.jsxs)("span",{className:"collection-tile__sell-panel__qty",children:["Qty:\xa0",Object(m.jsx)("h4",{className:"collection-tile__sell-panel__price",children:t.quantity})]}),Object(m.jsx)("button",{className:"collection-tile__sell-panel__btn",onClick:function(){n()},children:"Edit Selling Details"}),Object(m.jsx)("button",{className:"collection-tile__sell-panel__discontinue btn-danger",onClick:r,children:"Discontinue"})]})}function ge(e){var t=e.title,n=e.description,r=e.descriptionVal,c=e.descriptionEditMode,i=e.collectionViewHandler,l=e.setDescriptionVal,a=e.setDescriptionEditMode,o=e.setExpanded,s=e.handleSell,d=e.handleDiscontinue,u=Object(G.c)((function(e){return e.collectionsModel})),j=u.findIndex((function(e){return e.title===t}));return Object(m.jsxs)("div",{className:"collection-tile__expanded",children:[Object(m.jsxs)("div",{className:"collection-tile__expanded__left",children:[Object(m.jsx)(re,{collection:t}),Object(m.jsx)(F,{collection:t,style:{marginBottom:"0"}})]}),Object(m.jsxs)("div",{className:"collection-tile__expanded__right",children:[Object(m.jsxs)("h2",{className:"collection-tile__title",children:[t," "]}),Object(m.jsx)("div",{className:"collection-tile__edit-btn"}),c?Object(m.jsx)("textarea",{type:"text",id:"description",value:r,required:!0,style:{marginBottom:"1em"},rows:"4",cols:"50",onChange:function(e){l(e.target.value)}}):Object(m.jsx)("div",{children:n}),Object(m.jsx)("div",{className:"collection-tile__edit-btn",children:Object(m.jsx)(me,{style:{height:"20px",width:"20px"},onClick:function(){a(!c),l(n)}})}),Object(m.jsx)("div",{className:"collection-tile__sell-panel",children:u[j].sellData?Object(m.jsx)(he,{sellData:u[j].sellData,handleSell:s,handleDiscontinue:d}):Object(m.jsx)("button",{className:"collection-tile__sell-panel__btn",onClick:s,children:"Sell Collection"})}),Object(m.jsxs)("div",{className:"collection-tile__btn-panel",children:[Object(m.jsx)("button",{className:"new-collection__start-btn collection-tile__btn btn-danger",onClick:function(){o(!1),p.collection(t).get().then((function(e){e.forEach((function(e){Y({projectStorage:f,projectFirestore:p,collectionTitle:t,refString:e.data().refString,id:e.id})}))})).catch((function(e){console.log("Error: ",e)})),p.collection("00_admin").doc("register").get().then((function(e){var n=Object(k.a)(e.data().collections),r=e.data().collections.findIndex((function(e){return JSON.parse(e).title===t}));n.splice(r,1),p.collection("00_admin").doc("register").set({collections:n},{merge:!0})}))},style:{marginLeft:"0",marginRight:"auto"},children:"Delete Collection"}),Object(m.jsx)("button",{className:"new-collection__start-btn collection-tile__btn",onClick:function(e){i(e);var t=Object(k.a)(u);t[j].description=r;var n=t.map((function(e){return JSON.stringify(e)}));p.collection("00_admin").doc("register").update({collections:n.reverse()})},children:"Save"}),Object(m.jsx)("button",{className:"new-collection__start-btn collection-tile__btn",onClick:i,children:"Cancel"})]})]})]})}function ve(e){var t=e.title,n=e.handleSell,c=e.confirmSellingData,i=Object(r.useState)(""),l=Object(d.a)(i,2),a=l[0],o=l[1],s=Object(G.c)((function(e){return e.collectionsModel})),u=s.findIndex((function(e){return e.title===t})),j=Object(r.useState)({price:"0",quantity:"0"}),b=Object(d.a)(j,2),f=b[0],p=b[1];Object(r.useEffect)((function(){s[u].sellData&&p(s[u].sellData)}),[]),Object(r.useEffect)((function(){console.log("sellData: ",f)}),[f]);var O=function(e){var t=Object(I.a)({},f);t[e.target.id]=e.target.value,p(t)};return Object(m.jsx)("div",{className:"sell-dialogue",children:Object(m.jsx)("form",{children:Object(m.jsxs)("div",{className:"sell-dialogue__grid",children:[Object(m.jsxs)("h3",{className:"sell-dialogue__title",children:[t," "]}),a&&Object(m.jsx)("div",{className:"error-msg sell-dialogue__error",children:a}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)("label",{for:"price",children:"Unit Price (\xa3):"})}),Object(m.jsx)("input",{className:"sell-dialogue__input",id:"price",type:"number",step:"0.01",min:"0.01",value:f.price,onChange:O,required:!0}),Object(m.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(m.jsx)("label",{for:"quantity",children:"Quantity in Stock:"})}),Object(m.jsx)("input",{className:"sell-dialogue__input",id:"quantity",type:"number",step:"1",min:"1",value:f.quantity,onChange:O}),Object(m.jsxs)("div",{className:"sell-dialogue__btn-panel",children:[Object(m.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),e.target.form.price.value?e.target.form.price.value<=0?o("Invalid Price."):e.target.form.quantity.value?e.target.form.quantity.value<=0?o("Invalid Quantity."):c({price:e.target.form.price.value,quantity:e.target.form.quantity.value}):o("Please enter a Quantity."):o("Please enter a Unit Price.")},children:"Confirm"}),Object(m.jsx)("button",{onClick:n,children:"Cancel"})]})]})})})}function _e(e){var t=e.title,n=e.frontRef,c=e.description,i=Object(r.useState)(!1),l=Object(d.a)(i,2),a=l[0],o=l[1],s=Object(r.useState)(""),u=Object(d.a)(s,2),j=u[0],b=u[1],f=Object(G.c)((function(e){return e.newCollection})),O=Object(r.useState)(!1),x=Object(d.a)(O,2),h=x[0],g=x[1],v=Object(r.useState)(!1),_=Object(d.a)(v,2),y=_[0],w=_[1],N=Object(G.c)((function(e){return e.collectionsModel})),S=N.findIndex((function(e){return e.title===t}));Object(r.useEffect)((function(){b(c)}),[c]);var E=function(e){!0===a?(o(!1),b(c),g(!1)):o(!0)},F=function(){w(!y)};return Object(m.jsx)(m.Fragment,{children:a?y?Object(m.jsx)(ve,{title:t,handleSell:F,confirmSellingData:function(e){console.log(e);var t=Object(k.a)(N);t[S].sellData=e,console.log(t);var n=t.map((function(e){return JSON.stringify(e)}));p.collection("00_admin").doc("register").update({collections:n.reverse()}),F()}}):Object(m.jsx)(ge,{title:t,setExpanded:o,description:c,collectionViewHandler:E,descriptionVal:j,setDescriptionVal:b,descriptionEditMode:h,setDescriptionEditMode:g,handleSell:F,handleDiscontinue:function(){console.log("Discontinue");var e=Object(k.a)(N);delete e[S].sellData;var t=e.map((function(e){return JSON.stringify(e)}));p.collection("00_admin").doc("register").update({collections:t.reverse()})}}):Object(m.jsx)(je,{title:t,newCollection:f,frontRef:n,description:c,collectionViewHandler:E})})}function ye(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],i=h().currentUser,l=Object(r.useState)([]),a=Object(d.a)(l,2),u=a[0],j=a[1],b=h().logout,f=Object(v.g)(),O=Object(G.b)();function x(){return(x=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,b();case 4:f.pushState("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){O({type:"SET",payload:u})}),[u]),Object(r.useEffect)((function(){var e=p.collection("00_admin").doc("register").onSnapshot((function(e){console.log(e.data());var t=e.data().collections.map((function(e){return JSON.parse(e)}));j(t.reverse())}));return function(){return e()}}),[]),Object(m.jsxs)("div",{className:"app-body",children:[Object(m.jsx)("div",{className:"back-of-house-background"}),Object(m.jsx)(w,{error:n,currentUser:i,handleLogout:function(){return x.apply(this,arguments)}}),Object(m.jsx)(ce,{}),u.map((function(e){return Object(m.jsx)(_e,{title:e.title,frontRef:e.front,description:e.description})}))]})}function we(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=h().login,c=Object(r.useState)(""),i=Object(d.a)(c,2),l=i[0],a=i[1],u=Object(r.useState)(!1),j=Object(d.a)(u,2),b=j[0],f=j[1],p=Object(v.g)();function O(){return(O=Object(s.a)(o.a.mark((function r(c){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,a(""),f(!0),r.next=6,n(e.current.value,t.current.value);case 6:p.push("/dashboard"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),a("Failed to sign in");case 12:f(!1);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))).apply(this,arguments)}return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"back-of-house-background"}),Object(m.jsxs)("div",{className:"small-container",children:[Object(m.jsx)("h2",{children:"Log In"}),Object(m.jsxs)("form",{className:"user-form",onSubmit:function(e){return O.apply(this,arguments)},children:[l&&Object(m.jsx)("div",{className:"error-msg",children:l}),Object(m.jsx)("label",{for:"email",children:"Email"}),Object(m.jsx)("input",{type:"email",id:"email",ref:e,required:!0,style:{marginBottom:"1em"}}),Object(m.jsx)("label",{for:"password",children:"Password"}),Object(m.jsx)("input",{type:"password",id:"password",ref:t,required:!0,style:{marginBottom:"1em"}}),Object(m.jsx)("button",{className:"user-form__btn",type:"submit",disabled:b,style:{marginTop:"1em"},children:"Log In"})]}),Object(m.jsx)(_.b,{to:"/signup",children:"Sign Up"})]})]})}var ke,Ne,Se,Ee,Fe=n(32),Le=["component"];function Ce(e){var t=e.component,n=Object(Fe.a)(e,Le),r=h().currentUser;return Object(m.jsx)("div",{children:"loading"!==r?Object(m.jsx)(v.b,Object(I.a)(Object(I.a)({},n),{},{render:function(e){return r?Object(m.jsx)(t,Object(I.a)({},e)):Object(m.jsx)(v.a,{to:"/login"})}})):null})}function De(){var e=Object(G.c)((function(e){return e.basket})),t=Object(r.useState)(0),n=Object(d.a)(t,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){0===e.length&&i(0);var t=e.reduce((function(e,t){return e+t.qty}),0);i(t)}),[e]),Object(m.jsx)(m.Fragment,{children:0!==c&&Object(m.jsx)("div",{className:"qty-symbol",children:c})})}function Ie(e){var t=e.title;return Object(m.jsxs)("div",{className:"nav-bar-front",children:[Object(m.jsx)(_.c,{to:"/",exact:!0,children:Object(m.jsx)("h1",{className:"nav-bar-front__title",children:t})}),Object(m.jsxs)("div",{className:"nav-bar-front__links",children:[Object(m.jsx)(_.c,{to:"/about",exact:!0,children:Object(m.jsx)("h4",{className:"nav-bar-front__link",children:"About"})}),Object(m.jsx)(_.c,{to:"/contact",exact:!0,children:Object(m.jsx)("h4",{className:"nav-bar-front__link",children:"Contact"})}),Object(m.jsxs)("h4",{className:"nav-bar-front__link basket__link",children:[Object(m.jsx)(_.c,{to:"/basket",exact:!0,children:"Basket"}),Object(m.jsx)(De,{})]})]})]})}var Be=["title","titleId"];function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function qe(e,t){var n=e.title,c=e.titleId,i=Pe(e,Be);return r.createElement("svg",Te({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 30 30",enableBackground:"new 0 0 30 30",xmlSpace:"preserve",ref:t,"aria-labelledby":c},i),n?r.createElement("title",{id:c},n):null,ke||(ke=r.createElement("g",{id:"Layer_1_1_"})),Ne||(Ne=r.createElement("rect",{fill:"none",width:30,height:30})),Se||(Se=r.createElement("line",{fill:"none",stroke:"#FFFFFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,x1:9.375,y1:9.375,x2:20.625,y2:20.625})),Ee||(Ee=r.createElement("line",{fill:"none",stroke:"#FFFFFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,x1:20.625,y1:9.375,x2:9.375,y2:20.625})))}var Ae,Re,Me,Ue=r.forwardRef(qe),Ve=(n.p,["title","titleId"]);function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Ke(e,t){var n=e.title,c=e.titleId,i=We(e,Ve);return r.createElement("svg",Je({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 30 30",enableBackground:"new 0 0 30 30",xmlSpace:"preserve",ref:t,"aria-labelledby":c},i),n?r.createElement("title",{id:c},n):null,Ae||(Ae=r.createElement("g",{id:"Layer_1_1_"})),Re||(Re=r.createElement("rect",{fill:"none",width:30,height:30})),Me||(Me=r.createElement("polyline",{fill:"none",stroke:"#FFFFFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,points:" 18.917,3.209 11.083,15 18.917,26.791 "})))}var Xe,He,ze,Qe=r.forwardRef(Ke),Ge=(n.p,["title","titleId"]);function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function $e(e,t){var n=e.title,c=e.titleId,i=Ze(e,Ge);return r.createElement("svg",Ye({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 30 30",enableBackground:"new 0 0 30 30",xmlSpace:"preserve",ref:t,"aria-labelledby":c},i),n?r.createElement("title",{id:c},n):null,Xe||(Xe=r.createElement("g",{id:"Layer_1_1_"})),He||(He=r.createElement("rect",{fill:"none",width:30,height:30})),ze||(ze=r.createElement("polyline",{fill:"none",stroke:"#FFFFFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,points:" 11.083,26.791 18.917,15 11.083,3.209 "})))}var et=r.forwardRef($e),tt=(n.p,function(e){var t=e.current?"#FFFFFF":"#555555";return Object(m.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"19.583px",height:"19.583px",viewBox:"2.833 7.583 19.583 19.583","enable-background":"new 2.833 7.583 19.583 19.583",children:[Object(m.jsx)("g",{id:"Layer_1_1_"}),Object(m.jsx)("rect",{x:"2.833",y:"7.583",fill:"none",width:"19.583",height:"19.583"}),Object(m.jsx)("circle",{fill:t,cx:"12.625",cy:"17.374",r:"3.75"})]})});function nt(e){var t=e.current,n=e.length;return Object(m.jsx)(m.Fragment,{children:Object(k.a)(Array(n)).map((function(e,n){return Object(m.jsx)("div",{children:Object(m.jsx)(tt,{current:t===n})})}))})}function rt(e){var t=e.expandHandler,n=e.docs,c=e.collection,i=e.frontUrl,l=Object(r.useState)([]),a=Object(d.a)(l,2),o=a[0],s=a[1],u=Object(r.useState)(!1),j=Object(d.a)(u,2),b=j[0],f=j[1],p=Object(r.useState)(0),O=Object(d.a)(p,2),x=O[0],h=O[1],g=Object(G.b)(),v=Object(r.useState)(!1),y=Object(d.a)(v,2),w=y[0],N=y[1];Object(r.useEffect)((function(){var e=Object(k.a)(n);e.sort((function(e,t){return e.refString===c.front?-1:t.refString===c.front?1:0})),f(!0),s(e)}),[n,c.front]),Object(r.useEffect)((function(){console.log(o)}),[o]),Object(r.useEffect)((function(){console.log("".concat(x+1," of ").concat(o.length))}),[x,o]);return Object(m.jsxs)("div",{className:"img-expand-wrapper-front",children:[Object(m.jsxs)("div",{className:"img-expand-wrapper-front__left-container",children:[Object(m.jsx)("div",{className:"img-expand-wrapper-front__exit-symbol",onClick:t,children:Object(m.jsx)(Ue,{})}),o.length>1?Object(m.jsx)("div",{className:"img-expand-wrapper-front__left-symbol",onClick:function(){h(0===x?o.length-1:x-1)},children:Object(m.jsx)(Qe,{})}):null,o.length>1?Object(m.jsx)("div",{className:"img-expand-wrapper-front__right-symbol",onClick:function(){x===o.length-1?h(0):h(x+1)},children:Object(m.jsx)(et,{})}):null,o.length>1?Object(m.jsx)("div",{className:"img-expand-wrapper-front__bottom-panel",children:Object(m.jsx)(nt,{current:x,length:o.length})}):null,Object(m.jsx)("div",{className:"img-expand-wrapper-front__img-container",children:b&&Object(m.jsx)("img",{className:"img-expand-wrapper-front__img",src:o[x].url,alt:c.front})})]}),Object(m.jsx)("div",{className:"img-expand-wrapper-front__right-container",children:Object(m.jsxs)("div",{className:"img-expand-wrapper-front__right-container__inner",children:[Object(m.jsx)("h3",{className:"img-expand-wrapper-front__right-container__title",children:c.title}),Object(m.jsx)("div",{className:"img-expand-wrapper-front__right-container__description",children:c.description}),c.sellData&&c.sellData.quantity>0&&Object(m.jsx)("div",{className:"img-expand-wrapper-front__right-container__sell",children:w?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"img-expand-wrapper-front__right-container__description",style:{marginBottom:"0.5em"},children:[c.title," has been added to your basket!"]}),Object(m.jsx)(_.c,{to:"/basket",exact:!0,children:Object(m.jsx)("button",{className:"btn-front",onClick:function(){},style:{marginBottom:"0.5em"},children:"View Basket"})})]}):Object(m.jsxs)(m.Fragment,{children:["Buy this piece for:",Object(m.jsx)("h3",{className:"img-expand-wrapper-front__right-container__price",children:xe(c.sellData.price)}),Object(m.jsx)("button",{className:"btn-front",style:{marginBottom:"0.5em"},onClick:function(){g({type:"ADD_TO_BASKET",payload:{title:c.title,frontUrl:i,price:c.sellData.price}}),N(!0)},children:"Add to Basket"})]})})]})})]})}function ct(e){var t=e.collection,n=B(t.title).docs,c=Object(r.useState)(!1),i=Object(d.a)(c,2),l=i[0],a=i[1],o=Object(r.useState)(!1),s=Object(d.a)(o,2),u=s[0],j=s[1],b=function(e){if(e||n){var t=n.findIndex((function(t){return t.refString===e}));return-1===t?null:n[t].url}},f=function(){a(!l)};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"img-grid-front__img-wrapper",onClick:f,children:[!u&&Object(m.jsx)("div",{className:"img-grid-front__img-placeholder"}),Object(m.jsx)("img",{className:"img-grid-front__img",src:b(t.front),alt:t.front,onLoad:function(){console.log("Loaded"),j(!0)}})]}),l&&Object(m.jsx)(rt,{expandHandler:f,docs:n,collection:t,frontUrl:b(t.front)})]})}function it(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(!1),l=Object(d.a)(i,2),a=l[0],o=l[1];Object(G.c)((function(e){return e.basket}));return Object(r.useEffect)((function(){p.collection("00_admin").doc("register").get().then((function(e){if(e.exists){var t=e.data().collections.map((function(e){return JSON.parse(e)}));c(t.reverse()),o(!0)}}))}),[]),Object(r.useEffect)((function(){console.log(n)}),[n]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ie,{title:"Artist Gallery & Shop"}),Object(m.jsx)("div",{className:"img-grid-front",children:a&&n.map((function(e){return Object(m.jsx)(ct,{collection:e})}))})]})}function lt(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ie,{title:"Artist Gallery & Shop"}),Object(m.jsx)("div",{className:"about",children:"About Placeholder"})]})}function at(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ie,{title:"Artist Gallery & Shop"}),Object(m.jsx)("div",{className:"about",children:"Contact Placeholder"})]})}function ot(e){var t=e.item,n=e.qty,r=e.frontUrl,c=e.price,i=Object(G.b)();return Object(m.jsxs)("div",{className:"basket__tile",children:[Object(m.jsx)("div",{className:"basket__tile__img-wrapper",children:Object(m.jsx)("img",{className:"basket__tile__img",src:r,alt:t})}),Object(m.jsxs)("div",{className:"basket__tile__info",children:[Object(m.jsx)("div",{className:"basket__tile__item",children:t}),Object(m.jsx)("div",{className:"basket__tile__unit-price",children:xe(c*n)}),Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["Qty:",Object(m.jsx)("input",{class:"front-input",type:"number",style:{width:"3.5em",marginLeft:"0.5em"},value:n,onChange:function(e){e.target.value<1||(e.target.value>99||(console.log("Change",e.target.value),i({type:"UPDATE_BASKET_QTY",payload:{title:t,qty:e.target.value}})))}}),Object(m.jsx)("button",{class:"front-btn btn-danger",style:{marginLeft:"1em"},onClick:function(){console.log("Delete"),i({type:"DELETE_BASKET_ITEM",payload:{title:t}})},children:"Delete"})]})]})]})}function st(){var e=Object(G.c)((function(e){return e.basket})),t=Object(r.useState)(0),n=Object(d.a)(t,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){if(e.length>0){var t=e.reduce((function(e,t){return e+Number(t.price)*t.qty}),0);i(t+5)}else i(5)}),[e]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ie,{title:"Artist Gallery & Shop"}),e.length>0?Object(m.jsxs)("div",{className:"basket",children:[e.map((function(e){return Object(m.jsx)(ot,{item:e.item,qty:e.qty,frontUrl:e.frontUrl,price:e.price})})),Object(m.jsxs)("div",{className:"basket__tile-footer",children:[Object(m.jsx)("div",{children:"UK Shipping"}),Object(m.jsx)("div",{className:"basket__tile__unit-price",children:xe(5)})]}),Object(m.jsxs)("div",{className:"basket__tile-footer",children:[Object(m.jsx)("div",{children:"TOTAL"}),Object(m.jsx)("div",{className:"basket__tile__unit-price",style:{fontWeight:"700"},children:xe(c)})]}),Object(m.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)("button",{class:"front-btn basket__tile__checkout",children:"Proceed to Checkout"})})]}):Object(m.jsx)("div",{className:"basket",children:"You have no items in your basket."})]})}var dt=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(_.a,{children:Object(m.jsx)(g,{children:Object(m.jsxs)(v.d,{children:[Object(m.jsx)(v.b,{exact:!0,path:"/",component:it}),Object(m.jsx)(v.b,{exact:!0,path:"/about",component:lt}),Object(m.jsx)(v.b,{exact:!0,path:"/contact",component:at}),Object(m.jsx)(v.b,{exact:!0,path:"/basket",component:st}),Object(m.jsx)(Ce,{exact:!0,path:"/dashboard",component:ye}),Object(m.jsx)(v.b,{path:"/signup",component:y}),Object(m.jsx)(v.b,{path:"/login",component:we}),Object(m.jsx)(v.b,{component:function(){return Object(m.jsx)("div",{children:"404 Not found"})}})]})})})})},ut=(n(57),n(24)),jt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE":return!e;default:return e}},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.payload;case"MARK_FRONT":var n=Object(k.a)(e),r=n.findIndex((function(e){return e.title===t.payload.collectionTitle}));return n[r].front=t.payload.refString,n;default:return e}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEW_COLLECTION":return t.payload;default:return e}},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(k.a)(e),r=n.findIndex((function(e){return e.item===t.payload.title}));switch(t.type){case"ADD_TO_BASKET":return r>-1?99===n[r].qty?e:(n[r].qty+=1,n):[].concat(Object(k.a)(e),[{item:t.payload.title,qty:1,frontUrl:t.payload.frontUrl,price:t.payload.price}]);case"UPDATE_BASKET_QTY":return n[r].qty=Number(t.payload.qty),n;case"DELETE_BASKET_ITEM":return n.splice(r,1),n;default:return e}},Ot=Object(ut.a)({descriptionPanel:jt,collectionsModel:bt,newCollection:ft,basket:pt}),mt=Object(ut.b)(Ot,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(G.a,{store:mt,children:Object(m.jsx)(dt,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.d5c8111a.chunk.js.map